<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/result.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SmartScraper</title>
</head>
<body class="body">
    <nav class="navbar">
        <h1>SmartScraper</h1>
        <form method="post" enctype="multipart/form-data" id="file-form">
            <input class="file"type="file" title="Upload excel file" name="excel_file" required>
            <input type="submit" id="upld" value="Upload">
        </form>
        <form method="get" id="query-form">
            <input type="text" placeholder="Device" id="query" name="query" required>
            <input type="submit" id="srch" value="Search">
        </form>
    </nav>
    <div class="btn">
        <form action="{% url 'export_devices_to_xlsx' %}" method="get">
            <button class="exportdev">Export to XLSX</button>
        </form>
        <button class="btnup">↑</button>
        <button class="btndn">↓</button>
    </div>
    <table id="table" class="table">
        <tr>
            <th>Device</th>
            <th>MTTR</th>
            <th>MTBF</th>
            <th>FR</th>
            <th>FR in storage mode</th>
            <th>Storage time</th>
            <th>Minimal recource</th>
            <th>Gamma percentage resource</th>
            <th>Avg resource</th>
            <th>Avg lifetime</th>
            <th>Recovery intensity</th>
            <th>System reliability</th>
            <th>Score</th>
            <th>Link</th>
        </tr>
        {% for item in devices %}
        <tr>
            <td>{{ item.name }}</td>
            <td>{{ item.mttr }}</td>
            <td>{{ item.mtbf }}</td>
            <td>{{ item.failure_rate }}</td>
            <td>{{ item.failure_rate_in_storage_mode }}</td>
            <td>{{ item.storage_time }}</td>
            <td>{{ item.minimal_resource }}</td>
            <td>{{ item.gamma_percentage_resource }}</td>
            <td>{{ item.average_resource }}</td>
            <td>{{ item.average_lifetime }}</td>
            <td>{{ item.recovery_intensity }}</td>
            <td>{{ item.system_reliability }}</td>
            <td>{{ item.score }}</td>
            <td>{{ item.link }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>

